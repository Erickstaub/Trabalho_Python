{% load static %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
  <link rel="stylesheet" href="{% static 'core/usuarios.css' %}">
</head>
{% if conta.nivel == '3' %}
<script>
    function abredropdown() {
        var dropdown = document.getElementById("dropdown");
        dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    }
  function abremodaldelete() {
    document.getElementById("modal-delete").classList.add("active");
}

function fecharmodaldelete() {
    document.getElementById("modal-delete").classList.remove("active");
}
</script>
<body>
     <nav>
  <ul>
    <li><a href="/">HOME</a></li>
    <li><a href="/login">LOGIN</a></li>

        <li><a href="/usuarios">USUARIOS</a></li>
        <li><a href="/salas">SALAS</a></li>
    
 
  </ul>
  <div class="auth-buttons">
    <a class="usu" onclick="abredropdown()">{{ conta.nome }}</a>
    <div id="dropdown" class="dropdown">
      <a href="/logout" >Sair</a>
      </div>
  </nav>
  </div>

   <div class="form-container">
    <div class="form-header">
        Editar Conta
    </div>

    <div class="form-body">
        <form method="post">
            {% csrf_token %}
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" value="{{ usuario.nome }}" required minlength="3"><br>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="{{ usuario.email }}" required min="7"><br>

            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" value="{{ usuario.cpf }}" required minlength="11" maxlength="11"><br>

            <label for="ativo">Ativo:</label>
            <select id="ativo" name="ativo">
                <option value="True" {% if usuario.ativo %}selected{% endif %}>Sim</option>
                <option value="False" {% if not usuario.ativo %}selected{% endif %}>Não</option>
            </select><br>

            <label for="nivel">Nível de Acesso:</label>
            <select id="nivel" name="nivel">
                <option value="1" {% if usuario.nivel == '1' %}selected{% endif %}>Cliente</option>
                <option value="2" {% if usuario.nivel == '2' %}selected{% endif %}>Funcionario</option>
                <option value="3" {% if usuario.nivel == '3' %}selected{% endif %}>Admin</option>
            </select><br>

            <button type="submit">Salvar</button>
        </form>
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="deletar" value="true">
            <button  type="button" onclick="abremodaldelete()">Deletar Conta</button>
            <div id="modal-delete" class="modal">
                <div class="modal-content" >
                    <p>Tem certeza que deseja deletar esta conta?</p>
                    <button type="submit" name="deletar" value="true" class="confirm-delete-button"> Deletar</button>
                        <button type="button" class="cancel-delete-button" onclick="fecharmodaldelete()">Cancelar</button>
                    </div>

            </div>
        </form>

        </div>
    </div>


</body>
{% else %}
<body>
    <h1>Acesso Negado</h1>
    <p>Você não tem permissão para acessar esta página.</p>
</body>
{% endif %}